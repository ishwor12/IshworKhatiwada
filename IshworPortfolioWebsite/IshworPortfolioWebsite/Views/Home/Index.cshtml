@{
    ViewData["Title"] = "Home";
}

<!-- Animated Background -->
<div class="animated-background">
    <div class="hexagon-grid"></div>
    <div class="mouse-trail"></div>
</div>

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <div class="hero-content">
                    <div class="greeting-text">
                        <h6 class="text-primary mb-3">Hello, I'm</h6>
                    </div>
                    <h1 class="hero-title typing-animation">
                        <span class="typed-text"></span>
                        <span class="cursor">&nbsp;</span>
                    </h1>
                    <h2 class="hero-subtitle">.NET C# & Dynamics 365 Developer</h2>
                    <p class="hero-description">
                        Passionate .NET and Dynamics 365 Developer with 4+ years of experience delivering scalable,
                        reliable business solutions using C#, ASP.NET Core, Web API, and SQL Server.
                    </p>
                    <div class="hero-buttons">
                        <a href="#" class="btn btn-primary btn-lg me-3" onclick="downloadCV()">
                            <i class="fas fa-download me-2"></i>Download CV
                        </a>
                        <a asp-controller="Home" asp-action="Contact" class="btn btn-outline-light btn-lg">
                            <i class="fas fa-paper-plane me-2"></i>Contact Me
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="tech-stack-animation">
                    <div class="floating-tech-badges">
                        <span class="tech-badge" data-tech="C#">C#</span>
                        <span class="tech-badge" data-tech=".NET Core">.NET Core</span>
                        <span class="tech-badge" data-tech="Azure">Azure</span>
                        <span class="tech-badge" data-tech="SQL Server">SQL Server</span>
                        <span class="tech-badge" data-tech="Dynamics 365">D365</span>
                        <span class="tech-badge" data-tech="Web API">Web API</span>
                        <span class="tech-badge" data-tech="PowerBI">PowerBI</span>
                        <span class="tech-badge" data-tech="React">React</span>
                        <span class="tech-badge" data-tech="JavaScript">JavaScript</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Quick Stats Section -->
<section class="quick-stats-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-4 text-center">
                <div class="stat-item">
                    <h3 class="counter" data-count="4">0</h3>
                    <p>Years Experience</p>
                </div>
            </div>
            <div class="col-4 text-center">
                <div class="stat-item">
                    <h3 class="counter" data-count="11">0</h3>
                    <p>Projects Completed</p>
                </div>
            </div>
            <div class="col-4 text-center">
                <div class="stat-item">
                    <h3 class="counter" data-count="7">0</h3>
                    <p>Technologies</p>
                </div>
            </div>
        </div>
    </div>
</section>

@section Styles {
    <style>
        /* Base Styles */
        .hero-section {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            color: white;
            overflow: hidden;
        }

        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            z-index: -2;
        }

        /* Hexagon Grid */
        .hexagon-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 2px, transparent 0), radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 2px, transparent 0);
            background-size: 100px 100px;
            opacity: 0.3;
            animation: gridMove 20s linear infinite;
        }

        @@keyframes gridMove {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 100px 100px;
            }
        }

        /* Mouse Trail Effect */
        .mouse-trail {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .trail-dot {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            pointer-events: none;
            animation: trailFade 0.6s forwards;
        }

        @@keyframes trailFade {
            to {
                opacity: 0;
                transform: scale(0);
            }
        }

        /* Typing Animation */
        .typing-animation {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            min-height: 84px;
        }

        .typed-text {
            background: linear-gradient(45deg, #fff, #e3f2fd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cursor {
            display: inline-block;
            background-color: #fff;
            margin-left: 0.1rem;
            width: 3px;
            animation: blink 1s infinite;
        }

        @@keyframes blink {
            0%, 100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        /* Tech Stack Animation */
        .tech-stack-animation {
            position: relative;
            height: 400px;
        }

        .floating-tech-badges {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .tech-badge {
            position: absolute;
            background: rgba(255, 255, 255, 0.9);
            color: #2c3e50;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            animation: floatAround 8s ease-in-out infinite;
            cursor: pointer;
            transition: all 0.3s ease;
        }

            .tech-badge:hover {
                transform: scale(1.1);
                background: white;
                box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            }

            /* Floating positions and delays */
            .tech-badge:nth-child(1) {
                top: 10%;
                left: 20%;
                animation-delay: 0s;
            }

            .tech-badge:nth-child(2) {
                top: 20%;
                right: 15%;
                animation-delay: 1s;
            }

            .tech-badge:nth-child(3) {
                bottom: 30%;
                left: 10%;
                animation-delay: 2s;
            }

            .tech-badge:nth-child(4) {
                bottom: 20%;
                right: 20%;
                animation-delay: 3s;
            }

            .tech-badge:nth-child(5) {
                top: 50%;
                left: 50%;
                animation-delay: 4s;
            }

            .tech-badge:nth-child(6) {
                top: 15%;
                left: 60%;
                animation-delay: 5s;
            }

            .tech-badge:nth-child(7) {
                bottom: 15%;
                right: 10%;
                animation-delay: 6s;
            }

            .tech-badge:nth-child(8) {
                top: 65%;
                left: 25%;
                animation-delay: 7s;
            }

        @@keyframes floatAround {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }

            25% {
                transform: translateY(-20px) rotate(5deg);
            }

            50% {
                transform: translateY(10px) rotate(-5deg);
            }

            75% {
                transform: translateY(-10px) rotate(3deg);
            }
        }

        /* Quick Stats */
        .quick-stats-section {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-item h3 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #fff;
        }

        .stat-item p {
            color: #bbdefb;
            font-size: 0.9rem;
            margin: 0;
        }

        /* Hero Content */
        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-subtitle {
            font-size: 1.8rem;
            font-weight: 300;
            margin-bottom: 1.5rem;
            color: #e3f2fd;
        }

        .hero-description {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            color: #bbdefb;
            max-width: 500px;
        }

        .hero-buttons .btn {
            padding: 12px 30px;
            font-weight: 600;
            border-radius: 50px;
            margin-right: 15px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(45deg, #2196f3, #21cbf3);
            border: none;
        }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: 0 10px 20px rgba(33, 150, 243, 0.3);
            }

        .btn-outline-light:hover {
            background: #fff;
            color: #667eea;
            transform: translateY(-2px);
        }

        /* Responsive */
        @@media (max-width: 768px) {
            .typing-animation {
                font-size: 2.5rem;
                min-height: 72px;
            }

            .tech-stack-animation {
                height: 300px;
                margin-top: 2rem;
            }

            .hero-buttons .btn {
                display: block;
                width: 100%;
                margin-bottom: 1rem;
            }
        }
    </style>
}

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Typing Animation
            const typedTextSpan = document.querySelector('.typed-text');
            const cursorSpan = document.querySelector('.cursor');
            const textArray = ["Ishwor Khatiwada", "a .NET Developer", "a Problem Solver", "a Software Engineer"];
            const typingDelay = 100;
            const erasingDelay = 50;
            const newTextDelay = 2000;
            let textArrayIndex = 0;
            let charIndex = 0;

            function type() {
                if (charIndex < textArray[textArrayIndex].length) {
                    if(!cursorSpan.classList.contains("typing")) cursorSpan.classList.add("typing");
                    typedTextSpan.textContent += textArray[textArrayIndex].charAt(charIndex);
                    charIndex++;
                    setTimeout(type, typingDelay);
                } else {
                    cursorSpan.classList.remove("typing");
                    setTimeout(erase, newTextDelay);
                }
            }

            function erase() {
                if (charIndex > 0) {
                    if(!cursorSpan.classList.contains("typing")) cursorSpan.classList.add("typing");
                    typedTextSpan.textContent = textArray[textArrayIndex].substring(0, charIndex-1);
                    charIndex--;
                    setTimeout(erase, erasingDelay);
                } else {
                    cursorSpan.classList.remove("typing");
                    textArrayIndex++;
                    if(textArrayIndex>=textArray.length) textArrayIndex=0;
                    setTimeout(type, typingDelay + 1100);
                }
            }

            setTimeout(type, newTextDelay + 250);

            // Mouse Trail Effect
            const trail = document.querySelector('.mouse-trail');
            let mouseX = 0, mouseY = 0;
            let trailDots = [];

            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;

                const dot = document.createElement('div');
                dot.className = 'trail-dot';
                dot.style.left = mouseX + 'px';
                dot.style.top = mouseY + 'px';
                trail.appendChild(dot);

                trailDots.push(dot);

                if (trailDots.length > 15) {
                    const oldDot = trailDots.shift();
                    if (oldDot.parentNode === trail) {
                        trail.removeChild(oldDot);
                    }
                }
            });

            // Counter Animation
            const counters = document.querySelectorAll('.counter');
            const speed = 200;

            counters.forEach(counter => {
                const updateCount = () => {
                    const target = +counter.getAttribute('data-count');
                    const count = +counter.innerText;
                    const inc = target / speed;

                    if (count < target) {
                        counter.innerText = Math.ceil(count + inc);
                        setTimeout(updateCount, 1);
                    } else {
                        counter.innerText = target;
                    }
                };

                updateCount();
            });

            // Tech Badge Interaction
            const techBadges = document.querySelectorAll('.tech-badge');
            techBadges.forEach(badge => {
                badge.addEventListener('click', () => {
                    badge.style.animation = 'none';
                    setTimeout(() => {
                        badge.style.animation = '';
                    }, 10);
                });
            });
        });

        function downloadCV() {
            alert('CV download functionality would be implemented here. For now, please contact me directly.');
        }
    </script>
}